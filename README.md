# Start-gulp

## Особенности
Стартовая сборка для верстки проекта.

* gulp 4
* каждая задача расположена в отдельном файле
* автоматический запуск браузера при старте проекта и перезагрузка страницы при каждом изменении файлов в проекте
* автоматическая оптимизация изображений jpg, png
* динамическая конвертация изображений в формат webp
* конвертация шрифтов из форматов ```TTF``` и ```OTF``` в форматы ```EOT```, ```SVG```, ```WOFF``` и ```WOFF2```
* возможность использования на выбор html синтаксиса, или pug(jade) [Pug](https://pugjs.org/) шаблонизатора с разбивкой кода на части
* возможность использования на выбор css, scss или stylus [Stylus](https://stylus-lang.com/docs/) препроцессоров с разбивкой кода на части

## Команды для запуска проекта
* ```npm start``` - запуск проекта в режиме разработки с использованием препроцессоров pug [Pug](https://pugjs.org/) и [Stylus](https://stylus-lang.com/docs/). Без зжатия изображений, автоматическим открытием в браузере, авто перезагрузкой при изменении содержимого файлов и папок, проверка html на валидность, добавление ```sourcemap``` для stylus файлов.
* ```npm run build``` - сборка проекта с использованием препроцессоров pug [Pug](https://pugjs.org/) и [Stylus](https://stylus-lang.com/docs/), для передачи заказчику с возможностью внесения изменений. Сжатие изображений, форматирование кода в итоговых html и css файлах, без запуска проекта в браузере, отключена валидация и ```sourcemap```.
* ```npm run prod``` - сборка проекта с использованием препроцессоров pug [Pug](https://pugjs.org/) и [Stylus](https://stylus-lang.com/docs/), для передачи заказчику для последующей публикации на хостинг или интеграции в ```CMS```. Сжатие изображений, минификация итоговых html и css файлов, без запуска проекта в браузере, отключена валидация и ```sourcemap```.



* ```npm run html``` - запуск проекта в режиме разработки с использованием препроцессора [Stylus](https://stylus-lang.com/docs/) и html синтаксиса. Без зжатия изображений, автоматическим открытием в браузере, авто перезагрузкой при изменении содержимого файлов и папок, проверка html на валидность, добавление ```sourcemap``` для stylus файлов.
* ```npm run htmlbuild``` - сборка проекта с использованием препроцессора [Stylus](https://stylus-lang.com/docs/) и html синтаксиса, для передачи заказчику с возможностью внесения изменений. Сжатие изображений, форматирование кода в итоговых html и css файлах, без запуска проекта в браузере, отключена валидация и ```sourcemap```.
* ```npm run htmlprod``` - сборка проекта с использованием препроцессора [Stylus](https://stylus-lang.com/docs/) и html синтаксиса, для передачи заказчику для последующей публикации на хостинг или интеграции в ```CMS```. Сжатие изображений, минификация итоговых html и css файлов, без запуска проекта в браузере, отключена валидация и ```sourcemap```.



* ```npm run fconvert``` - запуск проекта в режиме конвертации шрифтов. Конвертирует шрифты формата otf и ttf в форматы woff и woff2, подключает шрифты к скомпилированному css файлу.


## Файловая структура

```
gulp-assembling
├── src
│   ├── fonts
│   ├── img
│   ├── includes
│   │   ├── core
│   │   │   ├── css
│   │   │   │   ├── fonts.styl
│   │   │   │   └── reset.styl
│   │   │   └── js
│   │   │       └── initWebpClass.js
│   │   │
│   │   ├── mixins
│   │   │   └── core
│   │   │       └── mix__fonts-include
│   │   │           └── mix__fonts-include.styl
│   │   │
│   │   ├── modules
│   │   └── templates
│   │       └── landing
│   │           ├── landing.pug
│   │           └── meta.pug
│   ├── js
│   │   └── main.js
│   │
│   ├── json
│   │   └── сonfig.json
│   │
│   ├── libs
│   │   ├── css
│   │   └── js
│   │
│   └── pages
│       ├── index.pug
│       └── main.styl
│
├── tasks
│   ├── clean.js
│   ├── css.js
│   ├── html.js
│   ├── pug.js
│   ├── scss.js
│   ├── stylus.js
│   └── webp.js
│
├── .gitignore
├── gulpfile.js
├── package.json
└── README.md
```


## Краткое описание папок и файлов
* ```src``` - директория с папками и файлами разрабатываемого проекта.
    * ```fonts``` - директория со шрифтами (поддерживаются вложенные папки).
    * ```img``` - директория с изображениями (поддерживаются вложенные папки).
    * ```includes``` - директория, содержащая отдельные фрагменты кода.
    * ```js``` - директория со скриптами (поддерживаются вложенные папки).
    * ```json``` - директория с файлами в формате json.
    * ```libs``` - директория со скриптами и стилями сторонних библиотек, которые необходимо добавить в проект как отдельные файлы.
    * ```pages``` - директория, содержащая файлы для конечной сборки.


* ```tasks``` - директория с задачами сборщика.
    * ```clean.js``` - задача gulp удаляет директорию dist с собраным проектом при каждом запуске
    * ```css.js``` - задача gulp для обработки css файлов
    * ```html.js``` - задача gulp для обработки html файлов
    * ```pug.js``` - задача gulp для обработки pug файлов
    * ```scss.js``` - задача gulp для обработки scss файлов
    * ```stylus.js``` - задача gulp для обработки stylus файлов
    * ```webp.js``` - задача gulp для конвертации изображений формата ```jpg``` и ```png``` в формат webp
* ```.gitignore``` - файл с исключениями для git
* ```gulpfile.js``` - подключение и вызов задач gulp
* ```package.json``` - файл конфигурации gulp